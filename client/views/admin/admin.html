<template name="admin">
    <div class="row">
        <div class="col-xs-12">
					{{# if selectedBookingId }}
						{{>adminBooking bookingId=selectedBookingId}}
					{{else}}
						{{>adminBookingsList}}
					{{/if}}
        </div>
    </div>
</template>

<template name="adminBookingsList">
    <div class="col-xs-12">
			{{>adminBookingFilters}}
    </div>
    <div class="col-xs-12">
        <table class="table table-hover table-striped">
            <thead>
            <tr>
                <th data-sort-by="guest.full_name">{{ i18n 'admin.Name'}}</th>
                <th data-sort-by="guest.email">{{ i18n 'admin.Email'}}</th>
                <th data-sort-by="guest.phone">{{ i18n 'admin.Phone'}}</th>
                <th data-sort-by="room">{{ i18n 'admin.Room'}}</th>
                <th data-sort-by="created">{{ i18n 'admin.Date'}}</th>
                <th data-sort-by="state">{{ i18n 'admin.State'}}</th>
            </tr>
            </thead>
            <tbody>
						{{#each bookings}}
							{{> adminBookingsListRow}}
						{{/each}}
            </tbody>
        </table>
    </div>
</template>
<template name="adminBookingFilters">
    <div class="filters">
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon">{{ i18n 'admin.Booking between'}}</span>
                <input type="text" class="start"
                       id="booking-between-start"
                       placeholder="{{ i18n 'admin.Start (dd-mm-yyyy)'}}"/>
                <input type="text" class="end"
                       id="booking-between-end"
                       placeholder="{{ i18n 'admin.End (dd-mm-yyyy)'}}"/>
                <button class="btn btn-primary load-bookings">
									{{ i18n 'admin.Load'}}
                </button>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="text" class="quicksearch" id="booking-quicksearch"
                       placeholder="{{ i18n 'admin.Quicksearch'}}"/>
                <button class="btn" disabled="disabled">
                    <span class="fa fa-search"></span>
                </button>
            </div>
        </div>
    </div>
</template>

<template name="adminBookingsListRow">
    <tr class="booking-row">
        <td>{{guest.fullName}}</td>
        <td>{{guest.email}}</td>
        <td>{{guest.phone}}</td>
        <td>{{i18n room 'title'}}</td>
        <td>{{moment created}}</td>
        <td>
            <span class="fa fa-{{stateIcon}}"></span>
            <span>{{state}}</span>
        </td>
    </tr>
</template>
